###
### Redis
###

###
### Initialize
###

if [ "$(is_formula_installed)" = "yes" ]; then
    quickness_teardown
    return
fi

APP_VERSION=redis-2.4.13
REDIS_PREV_DIR=$PWD
cd $QUICKNESS_SRC


###
### Installation
###

if [ -d $APP_VERSION ]; then
    rm -rf $APP_VERSION
fi
if [ ! -f $APP_VERSION.tar.gz ]; then
    wget http://redis.googlecode.com/files/redis-2.4.13.tar.gz
fi

tar zxf $APP_VERSION.tar.gz
cd $APP_VERSION
make && sudo make install


###
### Teardown
###

cd $REDIS_PREV_DIR

quickness_msg "
  Server: redis-server
   - Optionally: redis-server /path/to/redis.conf
  Client: redis-cli

  Worth reading:
   - http://redis.io/commands/auth"

quickness_teardown
