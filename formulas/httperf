###
### Httperf
###

###
### Initialize
###

if [ "$(is_formula_installed)" = "yes" ]; then
    quickness_teardown
    return
fi

HTTPERF_VERSION="httperf-0.9.0"
HTTPERF_PREV_DIR=$PWD
cd $QUICKNESS_SRC


###
### Installation
###

if [ -d $HTTPERF_VERSION ]; then
    rm -rf ./$HTTPERF_VERSION
fi
if [ ! -f $HTTPERF_VERSION.tar.bz2 ]; then
    wget ftp://ftp.hpl.hp.com/pub/httperf/$HTTPERF_VERSION.tar.gz
fi


tar xzf $HTTPERF_VERSION.tar.gz
cd $HTTPERF_VERSION
./configure && make && sudo make install


###
### Teardown
###

cd $HTTPERF_PREV_DIR
unset HTTPERF_VERSION
unset HTTPERF_PREV_DIR

quickness_teardown
