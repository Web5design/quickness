###
### MongoDB
###
### As of the release of precise pangolin mongodb is
### fairly up-to-date, if you want to just install the
### the version in the standard repo pass the ubuntu
### argument to the formula '. $Q/mongodb ubuntu'
###

###
### Initialize
###

if [ "$(is_formula_installed)" = "yes" ]; then
    quickness_teardown
    return
fi


###
### Installation
###

if [ "$1" = "ubuntu" ]; then
    sudo apt-get -y install mongodb
else
    sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
    sudo sh -c 'echo "deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen" >> /etc/apt/sources.list'
    sudo apt-get update
    sudo apt-get -y install mongodb-10gen
fi


###
### Teardown
###

quickness_teardown
