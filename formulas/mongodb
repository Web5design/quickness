###
### MongoDB
###
### As of the release of precise pangolin MongoDB is fairly old, if you
### want to just install the the version packaged with ubuntu add a
### [mongodb] section to /etc/private/versions.conf with the option
### 'package: ubuntu'
###

###
### Initialize

is_formula_installed && return || formula_init

###
### Installation

if [ "$MONGODB_PACKAGE" = "ubuntu" ]; then
    sudo apt-get -y install mongodb
else
    sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 7F0CEB10
    sudo sh -c 'echo "deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen" >> /etc/apt/sources.list'
    sudo apt-get update
    sudo apt-get -y install mongodb-10gen
fi

###
### Teardown

formula_teardown
