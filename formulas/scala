###
### Scala
###

###
### Initialize
###

if [ "$(is_formula_installed)" = "yes" ]; then
    quickness_teardown
    return
fi

SCALA_VERSION="scala-2.9.2"
SCALA_PREV_DIR=$PWD
cd $QUICKNESS_SRC

###
### Dependencies
###

. $Q/java


###
### Installation
###

if [ -d $SCALA_VERSION ]; then
    rm -rf $SCALA_VERSION
fi
if [ ! -f $SCALA_VERSION.tgz ]; then
    wget http://www.scala-lang.org/downloads/distrib/files/$SCALA_VERSION.tgz
fi

tar zxf $SCALA_VERSION.tgz
cd $SCALA_VERSION

export PATH=$QUICKNESS_SRC/$SCALA_VERSION/bin:\$PATH
# Update Profile
if [ "$(grep Scala $HOME/.profile)" = "" ]; then  # 1 equal sign. wtf bash.
    echo "" >> $HOME/.profile
    echo "### Scala" >> $HOME/.profile
    echo "export PATH=$QUICKNESS_SRC/$SCALA_VERSION/bin:\$PATH" >> ~/.profile
fi


###
### Teardown
###

cd $SCALA_PREV_DIR
unset SCALA_VERSION
unset SCALA_PREV_DIR

quickness_teardown
