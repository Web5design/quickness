###
### Django
###
### To create an actual django application you should create
### a <project_name>.private file in the formula directory
### and source 'python_dev <envname>' and this formula in.
### Remember to create a etc/django.reqs.private
###

###
### Initialize
###

if [ "$(is_formula_installed)" = "yes" ]; then
    quickness_teardown
    return
fi

if [ ! -f /etc/bash_completion.d/django_bash_completion ]; then
    sudo cp $QUICKNESS/etc/django_bash_completion /etc/bash_completion.d/
fi


###
### Dependencies
###

. $Q/python_dev django
. $Q/python_imaging


###
### Installation
###

# Only loadup the requirements if a virtualenv was created
if [ ! -z "$1" ]; then
    if [ -f $QUICKNESS/etc/django.reqs.private ]; then
        pip install -r $QUICKNESS/etc/django.reqs.private
    else
        quickness_msg "using default requirements, create etc/django.reqs.private to load in your own requirements"
        pip install -r $QUICKNESS/etc/django.reqs.txt
    fi
fi


###
### Teardown
###

quickness_teardown
