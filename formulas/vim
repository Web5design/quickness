###
### vim bundles
###

###
### Initialize
###

if [ "$(is_formula_installed)" = "yes" ]; then
    quickness_teardown
    return
fi

VIM_PREV_DIR=$PWD

###
### Installation
###

sudo apt-get -y install \
    vim-nox

sudo pip install pyflakes

cd $HOME
git clone https://github.com/tpope/vim-pathogen.git .vim
mkdir .vim/{backup,bundle,tmp}

cd $HOME/.vim/bundle
git clone https://github.com/kien/ctrlp.vim.git
git clone https://github.com/scrooloose/nerdcommenter.git
git clone https://github.com/scrooloose/nerdtree.git
git clone https://github.com/scrooloose/syntastic.git
git clone https://github.com/jeetsukumaran/vim-buffergator.git
git clone https://github.com/tpope/vim-fugitive.git
git clone https://github.com/jmcantrell/vim-virtualenv.git

# check to see if golang was installed
if [ -d "$HOME/ext" ]; then
   git clone https://github.com/jnwhiteh/vim-golang.git
   ln -s $HOME/ext/src/github.com/nsf/gocode/vim gocode
fi

cd $HOME
echo "backup/*" >> $HOME/.vim/.git/info/exclude
echo "bundle/*" >> $HOME/.vim/.git/info/exclude
echo "tmp/*" >> $HOME/.vim/.git/info/exclude

if [ -f $QUICKNESS/etc/vimrc.private ]; then
    cp $QUICKNESS/etc/vimrc.private $HOME/.vimrc
else
    quickness_msg "using default vimrc, create etc/vimrc.private to load in your own vimrc"
    cp $QUICKNESS/etc/vimrc $HOME/.vimrc
fi


###
### Teardown
###

cd $VIM_PREV_DIR

quickness_teardown
